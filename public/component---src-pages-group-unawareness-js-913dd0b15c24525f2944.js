(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"3nEx":function(e,t,a){},"9MSD":function(e,t,a){},D4Sa:function(e,t,a){},WQnh:function(e,t,a){},"XR/4":function(e,t,a){"use strict";a.r(t);var n=a("dI71"),r=a("q1tI"),i=a.n(r),s=a("vrFN"),o=a("zhpf"),c=(a("pMtI"),a("KQm4")),l=a("o0o1"),u=a.n(l),d=(a("ls82"),a("HaE+")),m=(a("D4Sa"),a("z/o8"));function p(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(a=e[Symbol.iterator]()).next.bind(a)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var h="You're a machine learning engineer at a commercial bank. One day, your manager gives you a large dataset and asks you to build an algorithm that classifies potential clients into two income types: those who make more than 50K/year, and those who make less. You have access to the attributes on the left. Which of those attributes would you use?",f="Train model",v=function(e,t){return"Your model gave positive predictions (income >50K) for "+((100*e).toLocaleString("en-US",{maximumFractionDigits:2})+"%")+" of male applicants and "+((100*t).toLocaleString("en-US",{maximumFractionDigits:2})+"%")+" of female applicants."},b="Do you have a responsibility to leave out sex during the training process? Would doing so make the final predictions more equitable?",w=[{id:"capital-gain",name:"Capital gain"},{id:"capital-loss",name:"Capital loss"},{id:"age",name:"Age"},{id:"sex",name:"Sex"},{id:"race",name:"Race"},{id:"education",name:"Education"},{id:"marital-status",name:"Marital status"},{id:"occupation",name:"Occupation"},{id:"hours-per-week",name:"Hours worked per week"}],y=["workclass","education","marital-status","occupation","relationship","race","sex","native-country"],E=["fnlwgt","age","education-num","capital-gain","capital-loss","hours-per-week"],x=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={attributeSelection:w.reduce((function(e,t){var a;return Object.assign(e,((a={})[t.id]=!0,a))}),{}),training:!0,trainingLogs:null,oneHotIndices:{},sex:{},done:!1,acceptanceRates:{sex:{male:0,female:0}}},a}Object(n.a)(t,e);var a=t.prototype;return a.preprocessData=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,i,s=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.attributeSelection,n=Object.keys(a).filter((function(e){return a[e]})),e.next=4,t.batch(1e3,!1).forEachAsync((function(e){var t=e.xs,a=e.ys,c=[],l={},u={},d=null;for(var m in t)if(n.includes(m)&&y.includes(m)){var g=t[m].unique().values,h=t[m].unique().indices;c.push(o.d(h,g.shape[0]));for(var f,v=p(g.arraySync());!(f=v()).done;){l[m+"-"+f.value.trim().toLowerCase()]=Object.keys(l).length}if("sex"===m){d=o.d(h,g.shape[0]);for(var b,w=p(g.arraySync().entries());!(b=w()).done;){var x=b.value,N=x[0];u[x[1].trim().toLowerCase()]=N}}}else if("sex"===m){var k=t[m].unique().values,S=t[m].unique().indices;d=o.d(S,k.shape[0]);for(var M,C=p(k.arraySync().entries());!(M=C()).done;){var O=M.value,j=O[0];u[O[1].trim().toLowerCase()]=j}}else if(n.includes(m)&&E.includes(m)){var L=t[m],A=L.max().sub(L.min());c.push(t[m].sub(L.min()).div(A).reshape([-1,1])),l[m]=Object.keys(l).length}s.setState({oneHotIndices:l,sex:{encodedData:d,indices:u}}),r=o.a(c,1),i=o.d(a.income.unique().indices,2).slice([0,0],[-1,1])}));case 4:return e.abrupt("return",{xs:r,ys:i});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.trainModel=function(e,t){var a=this,n=o.e();return n.add(o.c.dense({inputShape:[e.shape[1]],units:1,activation:"relu",useBias:!0})),n.add(o.c.dense({units:1,activation:"sigmoid",useBias:!0})),n.compile({optimizer:o.f.adam(.1),loss:"binaryCrossentropy",metrics:["accuracy"]}),n.fit(e,t,{epochs:11,shuffle:!0,callbacks:{onEpochEnd:function(e,t){a.setState({trainingLogs:{epoch:e,logs:t}});var n=10*e+Math.round(4*Math.random());m.a.to(".gud-progress-number",{innerText:n,duration:.8,overwrite:!0,modifiers:{innerText:function(e){return Math.round(e)}}}),m.a.to("#gud-progress-line",{strokeDashoffset:100-n,duration:.8,overwrite:!0})}}}).then(Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.querySelector(".gud-box-status"))&&(t.innerText="Done!"),a.modelCallback(n);case 3:case"end":return e.stop()}}),e)})))),n},a.runModel=function(){var e=this;this.setState({training:!0},(function(){var t;m.a.to("#gud .gud-intro-wrap",{opacity:0,duration:.6,ease:"expo.out"}),m.a.to("#gud .gud-model-wrap",{y:"-=43em",duration:1.6,ease:"expo.inOut",onComplete:(t=Object(d.a)(u.a.mark((function t(){var a,n,r,i,s,o,c,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.data,t.next=3,e.preprocessData(a);case 3:n=t.sent,r=n.xs,i=n.ys,s=r.slice(0,700),o=r.slice(700,-1),c=i.slice(0,700),l=i.slice(700,-1),e.setState({data:{xs_test:o,ys_test:l}},(function(){return e.trainModel(s,c)}));case 11:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})}),m.a.to("#gud .gud-training-wrap",{opacity:1,duration:.6,ease:"expo.in"})}))},a.modelCallback=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,i,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.data.xs_test,n=this.state.sex,r=t.predict(a),e.next=5,r.greater(.5).where(n.encodedData.gather(n.indices.male,1).slice(700,-1).equal(1),o.g([300,1])).sum().div(300).data();case 5:return i=e.sent,e.next=8,r.greater(.5).where(n.encodedData.gather(n.indices.female,1).slice(700,-1).equal(1),o.g([300,1])).sum().div(300).data();case 8:s=e.sent,c=10*Math.ceil(10*Math.max(i,s)),this.setState({training:!1,done:!0,acceptanceRates:{sex:{male:i,female:s},viz:{ceilPercentage:c,numTicks:c/5+1}}},(function(){m.a.fromTo(".gud-result-wrap",{opacity:0},{opacity:1,ease:"expo.out",duration:.8}),m.a.fromTo(".gud-result-viz-bar.men",{width:0},{width:100*i/c*100+"%",ease:"expo.out",duration:.8}),m.a.fromTo(".gud-result-viz-bar.women",{width:0},{width:100*s/c*100+"%",ease:"expo.out",duration:.8})}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.toggleAttribute=function(e){var t,a=this.state.attributeSelection;this.setState({attributeSelection:Object.assign({},a,(t={},t[e]=!a[e],t))})},a.keyboardSelectorListener=function(e){"Enter"===e.key&&this.runModel()},a.componentDidMount=function(){this.setState({screenHeight:window.innerHeight})},a.render=function(){var e=this,t=this.state,a=t.attributeSelection,n=t.training,r=t.trainingLogs,s=(t.screenHeight,t.done),o=t.acceptanceRates;return i.a.createElement("div",{className:"article-section no-padding row",id:"gud"},i.a.createElement("div",{className:"gu-demo-wrap"},i.a.createElement("div",{className:"gud-model-wrap"},w.map((function(t,n){var r=1-42*n/800;return r?i.a.createElement("button",{className:"gud-attribute-wrap"+(a[t.id]?" active":""),key:t.id,onClick:function(){return e.toggleAttribute(t.id)}},i.a.createElement("p",{className:"gud-attribute-name"},t.name),i.a.createElement("div",{className:"gud-attribute-radio flex-center"},i.a.createElement("svg",{width:"140",height:"700",fill:"none",viewBox:"0 0 140 700",className:"gud-attribute-curve",preserveAspectRatio:"xMinYMin",style:{"--index":n}},i.a.createElement("path",{stroke:"#BBBBBB",strokeWidth:"1.2",d:"M70 1c27 0 77.5 "+26.2*r+" 77.5 "+117.7*r+"C138 "+270.1*r+" 76.5 "+473.4*r+" 1 "+700*r})),i.a.createElement("div",{className:"gud-attribute-radio-box"}),i.a.createElement("svg",{width:"20",height:"18",fill:"none",viewBox:"0 0 20 18",className:"gud-attribute-check"},i.a.createElement("path",{className:"svg-stroke background",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M1.5 11L8 16.5 18.5 2"})))):null})),i.a.createElement("div",{className:"gud-box-wrap"},i.a.createElement("div",{className:"gud-box flex-center"},i.a.createElement("p",{className:"gud-box-status"},n&&!r?"Starting…":"Training…")))),i.a.createElement("div",{className:"gud-content-wrap"},i.a.createElement("div",{className:"gud-intro-wrap absolute-center"},i.a.createElement("p",{className:"gud-explanation"},h),i.a.createElement("button",{className:"gud-train-button",onClick:function(){return e.runModel()}},f)),i.a.createElement("div",{className:"gud-training-wrap absolute-center"},n&&!r&&i.a.createElement("p",{className:"gud-logs"},"Starting…"),n&&r&&r.logs&&i.a.createElement("div",{className:"gud-training-logs-wrap"},i.a.createElement("p",{className:"gud-progress-label"},"Training..."),i.a.createElement("div",{className:"gud-progress-wrap"},i.a.createElement("svg",{width:"100",height:"4",viewBox:"0 0 100 4",className:"gud-training-progress"},i.a.createElement("path",{className:"svg-stroke light",strokeWidth:"2",strokeLinecap:"round",d:"M1 2L99 2"}),i.a.createElement("path",{id:"gud-progress-line",stroke:"#FFF6E0",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"100 100",strokeDashoffset:"100",d:"M1 2L99 2"})),i.a.createElement("p",{className:"gud-progress-percent-group"},i.a.createElement("span",{className:"gud-progress-number"},0),i.a.createElement("span",{className:"gud-progress-percentage"},"%"))))),s&&i.a.createElement("div",{className:"gud-result-wrap absolute-center"},i.a.createElement("p",{className:"gud-result-viz-label"},"Positive prediction rate by sex:"),i.a.createElement("div",{className:"gud-result-viz"},i.a.createElement("div",{className:"gud-result-viz-ticks-wrap absolute-center"},Object(c.a)(Array(o.viz.numTicks)).map((function(e,t){return i.a.createElement("div",{className:"gud-result-viz-tick",key:t},t%2==0&&i.a.createElement("p",{className:"gud-result-viz-tick-label"},5*t+"%"))}))),i.a.createElement("div",{className:"gud-result-viz-bar-wrap men"},i.a.createElement("p",{className:"gud-result-viz-bar-label"},"Male"),i.a.createElement("div",{className:"gud-result-viz-bar men"},i.a.createElement("p",{className:"gud-result-viz-bar-percentage-label"},Math.round(100*o.sex.male)+"%"))),i.a.createElement("div",{className:"gud-result-viz-bar-wrap women"},i.a.createElement("p",{className:"gud-result-viz-bar-label"},"Female"),i.a.createElement("div",{className:"gud-result-viz-bar women"},i.a.createElement("p",{className:"gud-result-viz-bar-percentage-label"},Math.round(100*o.sex.female)+"%")))),i.a.createElement("hr",null),i.a.createElement("div",{className:"gud-result-padding"}),i.a.createElement("p",{className:"gud-result-message"},v(o.sex.male,o.sex.female)),i.a.createElement("p",{className:"gud-result-message"},b))),s&&i.a.createElement("div",{className:"gud-arrow-wrap"},i.a.createElement("svg",{width:"22",height:"37",viewBox:"0 0 22 37",className:"gud-arrow"},i.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeLinecap:"round",strokeWidth:"1"},i.a.createElement("g",{className:"gud-arrow-fill",strokeWidth:"2"},i.a.createElement("path",{d:"M11 0.979L11 35.238"}),i.a.createElement("path",{strokeLinejoin:"round",d:"M1.02685596 27.1615195L11 35.2382537 20.9855243 27.1615195"})))))))},t}(r.Component),N=(a("3nEx"),"/images/group-unawareness/illustration.svg"),k="Blue eyes with a slash",S=function(e){function t(){return e.apply(this,arguments)||this}Object(n.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){document.addEventListener("media-loaded",(function(){m.a.fromTo(".article-title-span",{y:"1em"},{y:0,ease:"expo.out",duration:1.6,stagger:.12}),m.a.fromTo(".article-hero-illustration",{scale:.5,opacity:0,rotate:-50},{scale:1,opacity:1,rotate:30,ease:"expo.out",duration:1.6})}),{once:!0})},a.render=function(){return i.a.createElement("div",{className:"gu-hero article-hero-wrap row"},i.a.createElement("img",{className:"article-hero-illustration",src:N,alt:k}),i.a.createElement("h1",{className:"article-title"},i.a.createElement("span",{className:"article-title-span-wrap"},i.a.createElement("span",{className:"article-title-span"},"GROUP")),i.a.createElement("br",null),i.a.createElement("span",{className:"article-title-span-wrap"},i.a.createElement("span",{className:"article-title-span"},"UNAWARENESS"))))},t}(r.Component),M=(a("q+87"),a("Haw6")),C=["C. GAIN","C. LOSS","AGE","SEX","RACE","EDU.","MARITAL","OCC."],O={src:"/images/group-unawareness/table-body.svg",alt:"Gray squiggly line"},j=function(e){function t(){return e.apply(this,arguments)||this}Object(n.a)(t,e);var a=t.prototype;return a.toggleColumn=function(e,t){m.a.to(["#gud-column-"+e+" .gud-head","#gud-column-"+e+" .gud-body-svg"],{opacity:t?1:0,easE:"expo.out",duration:.4}),document.querySelector("#gud-column-"+e).style.pointerEvents=t?"initial":"none"},a.componentDidMount=function(){var e=this;M.a.create({id:"gu-definition-column-1",trigger:".gud-table",start:"top bottom",end:"top 70%",onLeave:function(){return e.toggleColumn(4,!1)},onEnterBack:function(){return e.toggleColumn(4,!0)}}),M.a.create({id:"gu-definition-column-2",trigger:".gud-table",start:"top 70%",end:"top 55%",onLeave:function(){return e.toggleColumn(7,!1)},onEnterBack:function(){return e.toggleColumn(7,!0)}}),M.a.create({id:"gu-definition-column-3",trigger:".gud-table",start:"top 55%",end:"top 40%",onLeave:function(){return e.toggleColumn(3,!1)},onEnterBack:function(){return e.toggleColumn(3,!0)}})},a.componentWillUnmount=function(){M.a.getById("gu-definition-column-1").kill(),M.a.getById("gu-definition-column-2").kill(),M.a.getById("gu-definition-column-3").kill()},a.render=function(){var e=this;return i.a.createElement("div",{className:"gu-definition article-wrap py-4 py-2-sm row"},i.a.createElement("div",{className:"padding col-2"}),i.a.createElement("div",{className:"col-10"},i.a.createElement("p",{className:"quote"},"An algorithm satisfies group unawareness if it doesn’t have access to protected attributes like race and sex."),i.a.createElement("div",{className:"gud-table mt-3"},Object(c.a)(Array(8)).map((function(t,a){return i.a.createElement("div",{id:"gud-column-"+a,className:"gud-column",onClick:function(){return e.toggleColumn(a)},key:a},i.a.createElement("div",{className:"gud-head-wrap flex-center"},i.a.createElement("p",{className:"gud-head fw-bold ff-founders-grotesk fc-dark"},C[a])),i.a.createElement("div",{className:"gud-body-wrap"},Object(c.a)(Array(5)).map((function(e,t){return i.a.createElement("img",{key:t,className:"gud-body-svg",src:O.src,alt:O.alt})}))),i.a.createElement("div",{className:"gud-column-background spread"}))})))))},t}(r.Component),L=(a("cvK4"),["We can split fairness into two categories: procedural fairness and outcome fairness. An action or event A is procedurally fair if the process involved in it is fair. For example, an impartial jury is a necessary (but not sufficient) condition for a procedurally fair trial. On the other hand, we judge outcome fairness based on the consequences that arise from A, not A itself. For example, an equitable housing approval process that takes affirmative steps to accommodate low-income families satisfies outcome fairness, because the resulting housing distribution is more equitable.","It is easy to see how group-unaware algorithms are more procedurally fair. Since the decision-makers and the algorithm itself don't know about the race or sex of the applicants, they cannot actively discriminate against any specific demographic group. This makes them impartial (at least when it comes to the protected attributes that were left out), which is an important criterion for procedural fairness."]),A="/images/group-unawareness/star.svg",z="Blue asterisk",D=function(e){function t(){return e.apply(this,arguments)||this}Object(n.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){M.a.create({id:"gu-fairness-asterisk",trigger:".gu-fairness.article-wrap",start:"top bottom",end:"bottom top",animation:m.a.to(".guf-star",{rotate:120,duration:1}),scrub:.5})},a.componentWillUnmount=function(){M.a.getById("gu-fairness-asterisk").kill()},a.render=function(){return i.a.createElement("div",{className:"gu-fairness article-wrap py-4 py-2-sm row"},i.a.createElement("div",{className:"col-8"},i.a.createElement("p",{className:"quote"},"Group-unaware algorithms are more procedurally fair."),i.a.createElement("div",{className:"guf-text-wrap mt-2"},i.a.createElement("p",{className:"guf-text"},L[0]),i.a.createElement("p",{className:"guf-text"},L[1]))),i.a.createElement("div",{className:"padding col-4 flex-center"},i.a.createElement("img",{className:"guf-star",src:A,alt:z})))},t}(r.Component);a("9MSD"),a("WQnh");function T(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return B(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(a=e[Symbol.iterator]()).next.bind(a)}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var q="Train model",I=function(e,t){return"Your model gave positive predictions (income >50K) for "+((100*e).toLocaleString("en-US",{maximumFractionDigits:2})+"%")+" of male applicants and "+((100*t).toLocaleString("en-US",{maximumFractionDigits:2})+"%")+" of female applicants."},R=[{id:"capital-gain",name:"Capital gain"},{id:"capital-loss",name:"Capital loss"},{id:"age",name:"Age"},{id:"sex",name:"Sex"},{id:"race",name:"Race"},{id:"education",name:"Education"},{id:"marital-status",name:"Marital status"},{id:"occupation",name:"Occupation"},{id:"hours-per-week",name:"Hours worked per week"}],W=["workclass","education","marital-status","occupation","relationship","race","sex","native-country"],F=["fnlwgt","age","education-num","capital-gain","capital-loss","hours-per-week"],H=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={attributeSelection:R.reduce((function(e,t){var a;return Object.assign(e,((a={})[t.id]=!0,a))}),{}),training:!1,trainingLogs:null,oneHotIndices:{},sex:{},done:!1,acceptanceRates:{sex:{male:0,female:0}}},a}Object(n.a)(t,e);var a=t.prototype;return a.preprocessData=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,i,s=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.attributeSelection,n=Object.keys(a).filter((function(e){return a[e]})),e.next=4,t.batch(1e3,!1).forEachAsync((function(e){var t=e.xs,a=e.ys,c=[],l={},u={},d=null;for(var m in t)if(n.includes(m)&&W.includes(m)){var p=t[m].unique().values,g=t[m].unique().indices;c.push(o.d(g,p.shape[0]));for(var h,f=T(p.arraySync());!(h=f()).done;){l[m+"-"+h.value.trim().toLowerCase()]=Object.keys(l).length}if("sex"===m){d=o.d(g,p.shape[0]);for(var v,b=T(p.arraySync().entries());!(v=b()).done;){var w=v.value,y=w[0];u[w[1].trim().toLowerCase()]=y}}}else if("sex"===m){var E=t[m].unique().values,x=t[m].unique().indices;d=o.d(x,E.shape[0]);for(var N,k=T(E.arraySync().entries());!(N=k()).done;){var S=N.value,M=S[0];u[S[1].trim().toLowerCase()]=M}}else if(n.includes(m)&&F.includes(m)){var C=t[m],O=C.max().sub(C.min());c.push(t[m].sub(C.min()).div(O).reshape([-1,1])),l[m]=Object.keys(l).length}s.setState({oneHotIndices:l,sex:{encodedData:d,indices:u}}),r=o.a(c,1),i=o.d(a.income.unique().indices,2).slice([0,0],[-1,1])}));case 4:return e.abrupt("return",{xs:r,ys:i});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.trainModel=function(e,t){var a=this,n=o.e();return n.add(o.c.dense({inputShape:[e.shape[1]],units:1,activation:"relu",useBias:!0})),n.add(o.c.dense({units:1,activation:"sigmoid",useBias:!0})),n.compile({optimizer:o.f.adam(.1),loss:"binaryCrossentropy",metrics:["accuracy"]}),n.fit(e,t,{epochs:11,shuffle:!0,callbacks:{onEpochEnd:function(e,t){a.setState({trainingLogs:{epoch:e,logs:t}});var n=10*e+Math.round(4*Math.random());m.a.to(".gud-progress-number",{innerText:n,duration:.8,overwrite:!0,modifiers:{innerText:function(e){return Math.round(e)}}}),m.a.to("#gud-progress-line",{strokeDashoffset:100-n,duration:.8,overwrite:!0})}}}).then(Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.querySelector(".gud-box-status"))&&(t.innerText="Done!"),a.modelCallback(n);case 3:case"end":return e.stop()}}),e)})))),n},a.runModel=function(){var e=this;this.setState({training:!0},(function(){var t;m.a.to("#gur-sandbox .gud-intro-wrap",{opacity:0,duration:.6,ease:"expo.out"}),m.a.to("#gur-sandbox .gud-model-wrap",{y:"-=42.6em",duration:1.6,ease:"expo.inOut",onComplete:(t=Object(d.a)(u.a.mark((function t(){var a,n,r,i,s,o,c,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.data,t.next=3,e.preprocessData(a);case 3:n=t.sent,r=n.xs,i=n.ys,s=r.slice(0,700),o=r.slice(700,-1),c=i.slice(0,700),l=i.slice(700,-1),e.setState({data:{xs_test:o,ys_test:l}},(function(){return e.trainModel(s,c)}));case 11:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})}),m.a.to("#gur-sandbox .gud-training-wrap",{opacity:1,duration:.6,ease:"expo.in"})}))},a.modelCallback=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,i,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.data.xs_test,n=this.state.sex,r=t.predict(a),e.next=5,r.greater(.5).where(n.encodedData.gather(n.indices.male,1).slice(700,-1).equal(1),o.g([300,1])).sum().div(300).data();case 5:return i=e.sent,e.next=8,r.greater(.5).where(n.encodedData.gather(n.indices.female,1).slice(700,-1).equal(1),o.g([300,1])).sum().div(300).data();case 8:s=e.sent,c=10*Math.ceil(10*Math.max(i,s)),this.setState({training:!1,done:!0,acceptanceRates:{sex:{male:i,female:s},viz:{ceilPercentage:c,numTicks:c/5+1}}},(function(){m.a.fromTo(".gud-result-wrap",{opacity:0},{opacity:1,ease:"expo.out",duration:.8}),m.a.fromTo(".gud-result-viz-bar.men",{width:0},{width:100*i/c*100+"%",ease:"expo.out",duration:.8}),m.a.fromTo(".gud-result-viz-bar.women",{width:0},{width:100*s/c*100+"%",ease:"expo.out",duration:.8})}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.toggleAttribute=function(e){var t,a=this.state.attributeSelection;this.setState({attributeSelection:Object.assign({},a,(t={},t[e]=!a[e],t))})},a.keyboardSelectorListener=function(e){"Enter"===e.key&&this.runModel()},a.retry=function(){this.setState({training:!1,trainingLogs:null,oneHotIndices:{},sex:{},done:!1,acceptanceRates:{sex:{male:0,female:0}}},(function(){m.a.to("#gur-sandbox .gud-intro-wrap",{opacity:1,duration:1.6,ease:"expo.inOut"}),m.a.to("#gur-sandbox .gud-model-wrap",{y:"+=42.6em",duration:1.6,ease:"expo.inOut"}),m.a.to("#gur-sandbox .gud-training-wrap",{opacity:0,duration:.6,ease:"expo.out"})}))},a.componentDidMount=function(){this.setState({screenHeight:window.innerHeight})},a.render=function(){var e=this,t=this.state,a=t.attributeSelection,n=t.training,r=t.trainingLogs,s=(t.screenHeight,t.done),o=t.acceptanceRates;return i.a.createElement("div",{className:"article-section no-padding row",id:"gur-sandbox"},i.a.createElement("div",{className:"gu-demo-wrap"},i.a.createElement("div",{className:"gud-model-wrap"},R.map((function(t,n){var r=1-42*n/800;return r?i.a.createElement("button",{className:"gud-attribute-wrap"+(a[t.id]?" active":""),key:t.id,onClick:function(){return e.toggleAttribute(t.id)}},i.a.createElement("p",{className:"gud-attribute-name"},t.name),i.a.createElement("div",{className:"gud-attribute-radio flex-center"},i.a.createElement("svg",{width:"140",height:"700",fill:"none",viewBox:"0 0 140 700",className:"gud-attribute-curve",preserveAspectRatio:"xMinYMin",style:{"--index":n}},i.a.createElement("path",{stroke:"#BBBBBB",strokeWidth:"1.2",d:"M70 1c27 0 77.5 "+26.2*r+" 77.5 "+117.7*r+"C138 "+270.1*r+" 76.5 "+473.4*r+" 1 "+700*r})),i.a.createElement("div",{className:"gud-attribute-radio-box"}),i.a.createElement("svg",{width:"20",height:"18",fill:"none",viewBox:"0 0 20 18",className:"gud-attribute-check"},i.a.createElement("path",{className:"svg-stroke background",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M1.5 11L8 16.5 18.5 2"})))):null})),i.a.createElement("div",{className:"gud-box-wrap"},i.a.createElement("div",{className:"gud-box flex-center"},i.a.createElement("p",{className:"gud-box-status"},n&&!r?"Starting…":"Training…")))),i.a.createElement("div",{className:"gud-content-wrap"},i.a.createElement("div",{className:"gud-intro-wrap absolute-center"},i.a.createElement("button",{className:"gud-train-button",onClick:function(){return e.runModel()}},q)),i.a.createElement("div",{className:"gud-training-wrap absolute-center"},n&&!r&&i.a.createElement("p",{className:"gud-logs"},"Starting…"),n&&r&&r.logs&&i.a.createElement("div",{className:"gud-training-logs-wrap"},i.a.createElement("p",{className:"gud-progress-label"},"Training..."),i.a.createElement("div",{className:"gud-progress-wrap"},i.a.createElement("svg",{width:"100",height:"4",viewBox:"0 0 100 4",className:"gud-training-progress"},i.a.createElement("path",{className:"svg-stroke light",strokeWidth:"2",strokeLinecap:"round",d:"M1 2L99 2"}),i.a.createElement("path",{id:"gud-progress-line",stroke:"#FFF6E0",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"100 100",strokeDashoffset:"100",d:"M1 2L99 2"})),i.a.createElement("p",{className:"gud-progress-percent-group"},i.a.createElement("span",{className:"gud-progress-number"},0),i.a.createElement("span",{className:"gud-progress-percentage"},"%"))))),s&&i.a.createElement("div",{className:"gud-result-wrap absolute-center"},i.a.createElement("p",{className:"gud-result-viz-label"},"Positive prediction rate by sex:"),i.a.createElement("div",{className:"gud-result-viz"},i.a.createElement("div",{className:"gud-result-viz-ticks-wrap absolute-center"},Object(c.a)(Array(o.viz.numTicks)).map((function(e,t){return i.a.createElement("div",{className:"gud-result-viz-tick",key:t},t%2==0&&i.a.createElement("p",{className:"gud-result-viz-tick-label"},5*t+"%"))}))),i.a.createElement("div",{className:"gud-result-viz-bar-wrap men"},i.a.createElement("p",{className:"gud-result-viz-bar-label"},"Male"),i.a.createElement("div",{className:"gud-result-viz-bar men"},i.a.createElement("p",{className:"gud-result-viz-bar-percentage-label"},Math.round(100*o.sex.male)+"%"))),i.a.createElement("div",{className:"gud-result-viz-bar-wrap women"},i.a.createElement("p",{className:"gud-result-viz-bar-label"},"Female"),i.a.createElement("div",{className:"gud-result-viz-bar women"},i.a.createElement("p",{className:"gud-result-viz-bar-percentage-label"},Math.round(100*o.sex.female)+"%")))),i.a.createElement("hr",null),i.a.createElement("div",{className:"gud-result-padding"}),i.a.createElement("p",{className:"gud-result-message"},I(o.sex.male,o.sex.female)),i.a.createElement("button",{className:"gud-result-retry",onClick:function(){return e.retry()}},"Try again")))))},t}(r.Component),U=["As it turns out, not much. Intuitively, we expect that if the algorithm doesn't have access to information on protected groups, then it cannot discriminate with regard to those groups. This turns out not to be the case. Try it with the sandbox below. First, train the model with all the available variables. Record the acceptance rates for men vs women. Then, restart, deselect Sex, and train the model again. Compare the acceptance rates now and the recorded rates from before. You should see that there is barely any change.","So, what's up? Our expectation was that as long as the algorithm doesn't have access to information on protected groups, then it cannot discriminate based on those groups. In drawing the conclusion, however, we assumed that the sensitive information has been completely removed. The fact is group unawareness doesn't do a very good job at this.","Even after removing all of the sensitive variables (e.g. race, sex), information on protected groups still exist in the remaining variables. Take the example of sex. Men have historically had higher income than women. So, information on an applicant's sex is partially embedded in their income. Now, there is not a definite relationship between income and sex - many women have higher income than the male average. Still, given this and many other correlational relationships (e.g. men have historically had a higher level of education than women, due to unequal access), we can indeed build a pretty good model to predict an applican't sex based on their income, education, occupation, etc."],G=function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){var e=this.props.data;return i.a.createElement("div",{className:"gu-fairness article-wrap py-4 py-2-sm row"},i.a.createElement("div",{className:"padding col-2"}),i.a.createElement("div",{className:"col-8"},i.a.createElement("p",{className:"quote"},"But what effect does it have on outcome equity?"),i.a.createElement("div",{className:"guf-text-wrap mt-2 mb-2"},i.a.createElement("p",{className:"guf-text"},U[0])),i.a.createElement("hr",null),i.a.createElement(H,{data:e}),i.a.createElement("hr",null),i.a.createElement("div",{className:"guf-text-wrap mt-2"},i.a.createElement("p",{className:"guf-text"},U[0]))),i.a.createElement("div",{className:"padding col-2"}))},t}(r.Component),Y=(a("ckgf"),function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){return i.a.createElement("footer",{className:"footer"},i.a.createElement("p",{className:"footer-text"},"(Un)Fair Machine"),i.a.createElement("p",{className:"footer-text"},"Made by Vu Luong"))},t}(r.Component)),K={prod:{train:"https://res.cloudinary.com/vuluongj20/raw/upload/v1605146921/unfair-machine/datasets/adult-train2.csv",test:"https://res.cloudinary.com/vuluongj20/raw/upload/v1605146919/unfair-machine/datasets/adult-test.csv"},dev:{train:"/datasets/adult-train.csv",test:"/datasets/adult-test.csv"}},_=["age","workclass","fnlwgt","education","education-num","marital-status","occupation","relationship","race","sex","capital-gain","capital-loss","hours-per-week","native-country","income"],P={income:{isLabel:!0}},Q=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={data:{train:null,test:null}},a}Object(n.a)(t,e);var a=t.prototype;return a.fetchData=function(e,t,a){return o.b.csv(e,{columnNames:t,columnConfigs:a}).take(1e3)},a.componentDidMount=function(){var e=K["development"==={}.environment?"dev":"prod"];this.setState({data:this.fetchData(e.train,_,P)})},a.render=function(){var e=this.state.data;return i.a.createElement("div",null,i.a.createElement(S,null),i.a.createElement("hr",null),i.a.createElement(x,{data:e}),i.a.createElement("hr",null),i.a.createElement(j,null),i.a.createElement("hr",null),i.a.createElement(D,null),i.a.createElement("hr",null),i.a.createElement(G,{data:e}),i.a.createElement(Y,null))},t}(r.Component),J={title:"Group Unawareness",description:"Group unawareness means that the algorithm does not have access to sensitive attributes like gender, race when it is trained."},X=function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){return i.a.createElement("div",{className:"group-unawareness-page-wrap"},i.a.createElement(s.a,J),i.a.createElement(Q,null))},t}(r.Component);t.default=X},ckgf:function(e,t,a){},cvK4:function(e,t,a){},pMtI:function(e,t,a){},"q+87":function(e,t,a){}}]);
//# sourceMappingURL=component---src-pages-group-unawareness-js-913dd0b15c24525f2944.js.map